<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="791pt" style="width:977px;height:791px;" version="1.1" viewBox="0 0 977 791" width="977pt"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="Helvetica Neue" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="148" x="419" y="17.64">DB stack example</text><rect fill="#FEFECE" filter="url(#f1)" height="48.692" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="411.5" y="29.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="416.5" y="41.294">&lt;&lt; Stack&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="14" x="440" y="57.61">db</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="412.5" x2="481.5" y1="62.166" y2="62.166"/><rect fill="#FEFECE" filter="url(#f1)" height="48.692" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="235.5" y="663.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="139" x="240.5" y="675.294">&lt;&lt; HostgroupResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="272" y="691.61">db_hostgroup</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="236.5" x2="383.5" y1="696.166" y2="696.166"/><rect fill="#FEFECE" filter="url(#f1)" height="88.412" style="stroke: #A80036; stroke-width: 1.5;" width="203" x="29.5" y="238.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="73.5" y="250.294">&lt;&lt; ParamResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="103" y="266.61">db_api_url</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="30.5" x2="231.5" y1="271.166" y2="271.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="91" x="35.5" y="284.966">name = "db_api_url"</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="71" x="35.5" y="296.896">\# pseudo code</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="191" x="35.5" y="308.826">\# computes the url for other stacks to use</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="184" x="35.5" y="320.756">default_value = "&lt;%= compute_url() %&gt;"</text><rect fill="#FEFECE" filter="url(#f1)" height="52.622" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="387.5" y="155.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="392.5" y="167.294">&lt;&lt; ParamResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="414" y="183.61">db_password</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="388.5" x2="511.5" y1="188.166" y2="188.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="106" x="393.5" y="201.966">name = "db_password"</text><rect fill="#FEFECE" filter="url(#f1)" height="64.552" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="626.5" y="373.974"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="631.5" y="385.794">&lt;&lt; HostResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="659" y="402.11">db_server</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="627.5" x2="742.5" y1="406.666" y2="406.666"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="35" x="632.5" y="420.466">min = 1</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="37" x="632.5" y="432.396">max = 1</text><rect fill="#FEFECE" filter="url(#f1)" height="52.622" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="230" y="533.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="150" x="235" y="545.294">&lt;&lt; PuppetClassResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="286.5" y="561.61">postgres</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="389" y1="566.166" y2="566.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="76" x="236" y="579.966">name = postgres</text><rect fill="#FEFECE" filter="url(#f1)" height="100.342" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="208.5" y="356.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="160" x="221" y="368.294">&lt;&lt; ParamOverrideResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="250.5" y="384.61">password_override</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="209.5" x2="392.5" y1="389.166" y2="389.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="130" x="214.5" y="402.966">key = "$postgres::password"</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="68" x="214.5" y="414.896">\# only pseudo</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="32" x="214.5" y="426.826">value =</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="113" x="214.5" y="438.756">"&lt;%= get_param('db', "+</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="173" x="214.5" y="450.686">"'db_hostgroup', 'db_password') %&gt;"</text><rect fill="#FEFECE" filter="url(#f1)" height="48.692" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="816" y="157.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="142" x="821" y="169.294">&lt;&lt; PuppetRunResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="854" y="185.61">db_puppetrun</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="817" x2="967" y1="190.166" y2="190.166"/><path d="M411.285,57.468 C306.298,65.771 6,96.869 6,180.974 C6,180.974 6,180.974 6,560.974 C6,658.1178 140.113,681.8021 230.184,686.7544 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="235.244,687.0156,226.4629,682.5555,230.2507,686.757,226.0492,690.5448,235.244,687.0156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="7" y="411.714">is composed_of</text><path d="M445.386,78.665 C444.827,87.955 444.274,98.71 444,108.474 C443.788,116.027 443.593,117.929 444,125.474 C444.428,133.416 445.198,141.969 446.047,149.925 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="446.644,155.323,449.6298,145.9376,446.094,150.3533,441.6783,146.8176,446.644,155.323" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="445" y="122.214">is composed_of</text><path d="M411.274,55.599 C336.924,57.73 169.506,67.117 134,108.474 C104.9737,142.283 108.579,194.998 116.745,233.357 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="117.87,238.434,119.8287,228.7819,116.7885,233.5524,112.018,230.5122,117.87,238.434" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="135" y="122.214">is composed_of</text><path d="M482.508,60.759 C514.304,67.505 560.62,81.383 592,108.474 C669.173,175.101 683.106,304.869 685.098,368.497 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="685.239,373.704,688.9959,364.5998,685.1047,368.7058,680.9987,364.8147,685.239,373.704" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="658" y="187.214">is composed_of</text><path d="M482.678,64.548 C504.546,72.462 530.799,86.117 544,108.474 C566.315,146.266 571.219,469.045 544,503.474 C525.463,526.922 454.464,541.502 395.485,549.799 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="390.18,550.533,399.6428,553.2636,395.133,549.8487,398.5479,545.3389,390.18,550.533" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="564" y="287.714">is composed_of</text><path d="M411.153,64.165 C369.689,76.933 303.37,104.447 274,155.474 C239.226,215.89 258.338,298.204 277.642,351.592 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="279.389,356.345,280.037,346.5175,277.6633,351.6522,272.5286,349.2786,279.389,356.345" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="275" y="187.214">is composed_of</text><path d="M482.516,60.076 C533.682,67.896 630.797,84.5 711,108.474 C753.679,121.231 800.306,140.03 835.546,155.288 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="840.223,157.321,833.5658,150.0628,835.6381,155.3264,830.3744,157.3987,840.223,157.321" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="757" y="122.214">is composed_of</text><path d="M310,586.776 C310,607.572 310,636.7934 310,658.3151 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="310,663.3344,314,654.3344,310,658.3344,306,654.3344,310,663.3344" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="311" y="630.214">will be added to</text><path d="M135.533,326.481 C143.474,387.685 163.89,501.863 212,586.474 C228.216,614.9934 254.478,641.3097 275.735,659.8534 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="279.642,663.2242,275.4416,654.316,275.8566,659.9576,270.215,660.3726,279.642,663.2242" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="176" y="500.214">will be added to</text><path d="M455.986,208.635 C471.585,282.11 506.238,496.778 415,633.474 C407.514,644.6891 396.924,653.6756 385.323,660.8375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="381.007,663.3944,390.789,662.2483,385.3087,660.8458,386.7112,655.3656,381.007,663.3944" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="469" y="500.214">will be added to</text><path d="M663.221,439.197 C628.309,487.765 555.227,580.481 472,633.474 C447.186,649.2737 417.242,660.8666 389.884,669.1387 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="384.808,670.6449,394.5742,671.9185,389.6013,669.2221,392.2977,664.2492,384.808,670.6449" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="587" y="565.214">provisions in</text><path d="M303.922,456.662 C305.323,480.238 306.957,507.745 308.178,528.297 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="308.479,533.365,311.9371,524.1432,308.1819,528.3738,303.9512,524.6186,308.479,533.365" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="308" y="500.214">overrides in</text><path d="M869.847,206.785 C833.428,245.931 760.708,324.097 718.141,369.852 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="714.624,373.632,723.6825,369.7664,718.0294,369.9709,717.8248,364.3178,714.624,373.632" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="837" y="287.714">on</text><path d="M414.909,212.471 C406.529,220.428 397.995,229.37 391,238.474 C362.907,275.037 338.624,321.555 322.386,356.204 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="419.003,208.647,409.6953,211.8666,415.3488,212.0598,415.1557,217.7133,419.003,208.647" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="392" y="287.714">uses</text><polygon fill="#DDDDDD" points="136,730.474,136,790.58,849,790.58,849,730.474,136,730.474" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="701" x="142" y="749.194">-   User edits parameters on hostgroups (created based on `ParamResource`, stored in `HostgroupParameter`).</text><text fill="#000000" font-family="Helvetica Neue" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="660" x="142" y="765.896">-   Those parameters are applied to puppet class parameters with overrides (`ParamOverrideResource`).</text><text fill="#000000" font-family="Helvetica Neue" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="502" x="142" y="782.598">-   `ParamOverrideResource` can use only `ParamResources` from same stack.</text></g></svg>