<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="791pt" style="width:988px;height:791px;" version="1.1" viewBox="0 0 988 791" width="988pt"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="Helvetica Neue" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="148" x="424.5" y="17.64">DB stack example</text><rect fill="#FEFECE" filter="url(#f1)" height="48.692" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="418.5" y="29.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="423.5" y="41.294">&lt;&lt; Stack&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="14" x="447" y="57.61">db</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="419.5" x2="488.5" y1="62.166" y2="62.166"/><rect fill="#FEFECE" filter="url(#f1)" height="48.692" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="242.5" y="663.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="139" x="247.5" y="675.294">&lt;&lt; HostgroupResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="279" y="691.61">db_hostgroup</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="243.5" x2="390.5" y1="696.166" y2="696.166"/><rect fill="#FEFECE" filter="url(#f1)" height="88.412" style="stroke: #A80036; stroke-width: 1.5;" width="203" x="29.5" y="238.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="135" x="63.5" y="250.294">&lt;&lt; ParameterResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="103" y="266.61">db_api_url</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="30.5" x2="231.5" y1="271.166" y2="271.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="91" x="35.5" y="284.966">name = "db_api_url"</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="71" x="35.5" y="296.896">\# pseudo code</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="191" x="35.5" y="308.826">\# computes the url for other stacks to use</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="184" x="35.5" y="320.756">default_value = "&lt;%= compute_url() %&gt;"</text><rect fill="#FEFECE" filter="url(#f1)" height="52.622" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="381.5" y="155.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="135" x="386.5" y="167.294">&lt;&lt; ParameterResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="418" y="183.61">db_password</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="382.5" x2="525.5" y1="188.166" y2="188.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="106" x="387.5" y="201.966">name = "db_password"</text><rect fill="#FEFECE" filter="url(#f1)" height="64.552" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="637.5" y="373.974"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="642.5" y="385.794">&lt;&lt; HostResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="670" y="402.11">db_server</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="638.5" x2="753.5" y1="406.666" y2="406.666"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="35" x="643.5" y="420.466">min = 1</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="37" x="643.5" y="432.396">max = 1</text><rect fill="#FEFECE" filter="url(#f1)" height="52.622" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="237" y="533.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="150" x="242" y="545.294">&lt;&lt; PuppetClassResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="293.5" y="561.61">postgres</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="238" x2="396" y1="566.166" y2="566.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="76" x="243" y="579.966">name = postgres</text><rect fill="#FEFECE" filter="url(#f1)" height="100.342" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="211" y="356.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="180" x="216" y="368.294">&lt;&lt; ParameterOverrideResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="255.5" y="384.61">password_override</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="212" x2="400" y1="389.166" y2="389.166"/><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="130" x="217" y="402.966">key = "$postgres::password"</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="68" x="217" y="414.896">\# only pseudo</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="32" x="217" y="426.826">value =</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="113" x="217" y="438.756">"&lt;%= get_param('db', "+</text><text fill="#000000" font-family="Helvetica Neue" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="173" x="217" y="450.686">"'db_hostgroup', 'db_password') %&gt;"</text><rect fill="#FEFECE" filter="url(#f1)" height="48.692" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="827" y="157.474"/><text fill="#000000" font-family="Helvetica Neue" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="142" x="832" y="169.294">&lt;&lt; PuppetRunResource&gt;&gt;</text><text fill="#000000" font-family="Helvetica Neue" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="865" y="185.61">db_puppetrun</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="828" x2="978" y1="190.166" y2="190.166"/><path d="M418.472,57.299 C312.51,65.196 6,95.432 6,180.974 C6,180.974 6,180.974 6,560.974 C6,610.837 145.066,650.3555 237.212,671.0673 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="242.112,672.161,234.1988,666.2974,237.2319,671.0724,232.457,674.1055,242.112,672.161" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="7" y="411.714">is composed_of</text><path d="M454,78.674 C454,98.869 454,128.034 454,150.061 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="454,155.212,458,146.212,454,150.212,450,146.212,454,155.212" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="455" y="122.214">is composed_of</text><path d="M418.495,55.275 C341.884,56.755 164.988,64.922 128,108.474 C99.2482,142.329 104.7103,194.789 114.455,233.068 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="115.791,238.135,117.3629,228.4124,114.5156,233.3004,109.6276,230.4531,115.791,238.135" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="129" y="122.214">is composed_of</text><path d="M489.717,59.889 C523.149,66.115 572.796,79.723 606,108.474 C682.857,175.023 695.31,304.828 696.546,368.481 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="696.624,373.69,700.4873,364.6305,696.5483,368.6906,692.4882,364.7516,696.624,373.69" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="671" y="187.214">is composed_of</text><path d="M489.589,63.026 C513.479,70.482 543.194,84.208 558,108.474 C580.86,145.941 582.421,469.204 555,503.474 C535.857,527.399 462.55,541.995 402.294,550.171 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="397.245,550.846,406.6959,553.6175,402.2009,550.1831,405.6353,545.6881,397.245,550.846" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="577" y="287.714">is composed_of</text><path d="M418.278,62.618 C374.031,74.214 300.522,100.937 268,155.474 C232.096,215.684 255.767,298.048 278.662,351.504 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="280.731,356.263,280.8098,346.4145,278.737,351.6778,273.4736,349.6049,280.731,356.263" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="269" y="187.214">is composed_of</text><path d="M489.624,59.949 C541.451,67.665 640.367,84.202 722,108.474 C764.853,121.216 811.664,140.106 846.943,155.411 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="851.624,157.449,844.9706,150.1873,847.0401,155.452,841.7754,157.5216,851.624,157.449" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="768" y="122.214">is composed_of</text><path d="M317,586.776 C317,607.572 317,636.7934 317,658.3151 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="317,663.3344,321,654.3344,317,658.3344,313,654.3344,317,663.3344" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="318" y="630.214">will be added to</text><path d="M136.734,326.485 C146.338,387.695 169.693,501.88 219,586.474 C235.521,614.818 261.766,641.1433 282.94,659.7351 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="286.832,663.1153,282.6621,654.1928,283.0578,659.8357,277.4148,660.2315,286.832,663.1153" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="182" y="500.214">will be added to</text><path d="M460.198,208.612 C476.395,282.025 512.74,496.544 422,633.474 C414.552,644.7138 403.979,653.7123 392.385,660.8784 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="388.071,663.4365,397.8526,662.2872,392.3719,660.8865,393.7726,655.4058,388.071,663.4365" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="476" y="500.214">will be added to</text><path d="M673.82,439.201 C638.291,487.775 564.015,580.498 480,633.474 C454.859,649.3264 424.552,660.9492 396.925,669.2313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="391.799,670.7391,401.5621,672.036,396.5957,669.3277,399.3039,664.3613,391.799,670.7391" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="596" y="565.214">provisions in</text><path d="M309.571,456.662 C311.283,480.238 313.28,507.745 314.773,528.297 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="315.141,533.365,318.48,524.0994,314.7796,528.3781,310.5009,524.6777,315.141,533.365" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="314" y="500.214">overrides in</text><path d="M880.847,206.785 C844.428,245.931 771.708,324.097 729.141,369.852 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="725.624,373.632,734.6825,369.7664,729.0294,369.9709,728.8248,364.3178,725.624,373.632" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="14" x="848" y="287.714">on</text><path d="M421.076,212.478 C413.039,220.494 404.805,229.462 398,238.474 C370.076,275.458 345.179,321.936 328.35,356.463 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="424.998,208.624,415.7745,212.0777,421.4312,212.128,421.3809,217.7846,424.998,208.624" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="399" y="287.714">uses</text><polygon fill="#DDDDDD" points="142,730.474,142,790.58,854,790.58,854,730.474,142,730.474" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Helvetica Neue" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="700" x="148" y="749.194">-   User edits parameters on hostgroups (created based on `ParameterResource`, stored in `GroupParameter`).</text><text fill="#000000" font-family="Helvetica Neue" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="685" x="148" y="765.896">-   Those parameters are applied to puppet class parameters with overrides (`ParameterOverrideResource`).</text><text fill="#000000" font-family="Helvetica Neue" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="552" x="148" y="782.598">-   `ParameterOverrideResource` can use only `ParameterResources` from same stack.</text></g></svg>